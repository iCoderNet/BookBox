{% extends 'base.html' %}
{% load static %}

{% block title %}Mualliflar Ro'yhati{% endblock title %}

{% block adress_path %}
<div class="navbar-breadcrumb">
    <h5 class="mb-0">Mualliflar</h5>
    <nav aria-label="breadcrumb">
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'home' %}">Admin</a></li>
            <li class="breadcrumb-item active" aria-current="page">Mualliflar Ro'yhati</li>
        </ul>
    </nav>
</div>
{% endblock adress_path %}

{% block content %}
<!-- TOP Nav Bar END -->
         <!-- Page Content  -->
         <div id="content-page" class="content-page">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="iq-card">
                        {% if messages %}
                        {% for message in messages %}
                        <div class="alert bg-white alert-{{ message.tags }}" role="alert">
                           <div class="iq-alert-text">{{ message }}</div>
                           <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                              <i class="ri-close-line  text-dark"></i>
                           </button>
                        </div>
                        {% endfor %}
                        {% endif %}
                        <div class="iq-card-header d-flex justify-content-between">
                           <div class="iq-header-title">
                              <h4 class="card-title">Mualliflar Ro'yhati</h4>
                           </div>
                           <div class="iq-card-header-toolbar d-flex align-items-center">
                              <a href="{% url 'addAuthor' %}" class="btn btn-primary">Yangi Muallif Qo'shish</a>
                           </div>
                        </div>
                        <div class="iq-card-body">
                           <div class="table-responsive">
                              <table class="data-tables table table-striped table-bordered" style="width:100%">
                                 <thead>
                                    <tr>
                                       <th style="width: 5%;">No</th>
                                       <th style="width: 5%;">Surati</th>
                                       <th style="width: 20%;">Ismi</th>
                                       <th style="width: 60%;">Haqida</th>
                                       <th style="width: 10%;">Amallar</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    {% for author in authors %}
                                    <tr>
                                       <td>{{forloop.counter}}</td>
                                       <td>
                                          <img src="{{author.image.url}}" class="img-fluid avatar-50 rounded" alt="author-profile">
                                       </td>
                                       <td>{{author.name}}</td>
                                       <td>
                                          <p class="mb-0">{{author.description}}</p>
                                       </td>
                                       <td>
                                          <div class="flex align-items-center list-user-action">
                                             <a class="bg-primary" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit" href="{% url 'editAuthor' %}{{ author.pk }}"><i class="ri-pencil-line"></i></a>
                                             <a class="bg-primary" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete" href="{% url 'delAuthor' %}{{ author.pk }}"><i class="ri-delete-bin-line"></i></a>
                                          </div>
                                       </td>
                                    </tr>
                                    {% empty %}
                                    <tr>
                                       <td colspan="5" class="text-center">Hozircha Mualliflar qo'shilmagan</td>
                                    </tr>
                                    {% endfor %}
                                    
                                 </tbody>
                              </table>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- Wrapper END -->
      {% endblock content %}